---
volumes:
  homebox_data:
    external: true

services:
  homebox:
    image: ecshreve/homebox-dev:latest
    container_name: homebox
    restart: unless-stopped
    environment:
      - TZ=America/Los_Angeles
    ports:
      - 7745
    volumes:
      - homebox_data:/data
    labels:
      - traefik.enable=true
      - homepage.group=apps
      - homepage.name=homebox
      - homepage.icon=homebox
      - homepage.href=http://homebox.ecs.lan
      - homepage.siteMonitor=http://homebox.ecs.lan
      # TODO: rebuild the image and fix the timezone value
      # - homepage.widget.type=homebox
      # - homepage.widget.url=http://homebox.ecs.lan
    depends_on:
      traefik:
        condition: service_healthy
